{% block imports %}
from litestar import Litestar, get
from litestar.config.cors import CORSConfig

from app.config import settings
from app.controllers import BaseController
{% endblock %}

{% block routes %}

@get("/health")
async def health() -> dict[str, str]:
    """Health check endpoint."""
    return {"status": "healthy"}
{% endblock %}

{% block plugin_setup %}
{# Plugins inject their setup code here #}
{% endblock %}

{% block app_config %}

app = Litestar(
    route_handlers=[health, BaseController],
    cors_config=CORSConfig(allow_origins=settings.ALLOWED_ORIGINS),
    debug=settings.DEBUG,
)
{% endblock %}
